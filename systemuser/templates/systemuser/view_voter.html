{% extends "systemuser/index1.html" %}

{% block content%}

<div class="row">
    
    <div class="col-sm-12 col-md-12">
        <div class="card">
            <div class="card-header">
                <h4>View Voter Info</h4>
            </div>
            
            <!-- /.card-header -->
            <div class="card-body">
                <form action="{% url 'view_voter' %}" method="POST">
                    {% csrf_token %}
                    <input type="text" name="search" placeholder="Type a voter name/id here">
                    <input type="submit">
                </form>
                <br>
                {%if voter_data %}   
                    <table id="example1" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Citizen Registration Number</th>
                                <th>Name</th>
                                <th>Voter Registration Id</th>
                                <th>Registration Date</th>
                                <th>Address</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>

                            {% for o in voter_data %}

                            <tr>
                                <td> {{o.citizen_registration_number}}</td>
                                <td> {{o.voter_first_name}}</td>
                                <td> {{o.voter_registratio_id}}</td>
                                <td> {{o.registration_date}}</td>
                                <td> {{o.address}}</td>
                                <td> {{o.voter_status}}</td>
                                <td> <a class="theme-link" href="{% url 'update_voter' o.id %}"> Update</a></td>
                                <td> <a class="theme-link" onclick="return delete_voter()" href="{% url 'delete_voter' o.id %}">Delete</a></td>



                            </tr>

                            {% endfor%}
                        </tbody>
                    </table>
                    {%else%}
                    <p class="danger"> Sorry! No result Found.</p>

                    {%endif%}

                </div>
            </div>
        </div>
        

        <script>
            function delete_voter() {
                var x = confirm('Are you sure you want to delete this Entity');
                if (x) return true;
                else return false;
            }
        </script>

    {% endblock content %}